---
title: Setting up a static blog with Markdoc and NextJs
sample: Stripe open source project Markdoc makes working with markdown files a breeze. This package allows for full customization of the build-in commonmark nodes, and compmletely custom tags. This post will show how to get started with markdoc in a NextJs app.
author:
  image: /images/profile.webp
  name: Spencer Duball
published: 2022-05-25
tags:
  - typescript
  - markdoc
  - react
  - nextjs
---

## About this Post

Ahh a simple blog website where I can share my projects and learnings after working on some things. This should be super simple: I will just create a NextJs site, create markdown pages in my repository, and then publish the website in a day... right?

_Wrong._ Oh so very wrong I was. üòÖ

There were so many additional pieces that are hidden when you visit the blog websites of some of the people you follow. This post will start with my initial concept of building a blog site in a day, and will evolve into the site that you are visting now. This post aims to be a complete guide into setting up a serverless website complete with a blog, a comments system, other pages that I wanted to add, and of course the pitfalls and decisions made along the way.

I also intend to give my preferences on packages used, and will try to relay the tradeoffs made throughout the building of this site. I hope you learn some things and find this information useful, now onto the project!

---

## Getting Started

I have been wanting to build a personal website for awhile now, and after a new package [Markdoc](markdoc.io) got released by Stripe I decided to get going. Why was this package important? Well let me compare the different content formats that were considered for writing my blog posts, and I will explain how Markdoc ticked all the boxes that were important to me.

| Format       | Portable | Customizable | Simple |
| ------------ | -------- | ------------ | ------ |
| **WYSIWYG**  | ‚ùå       | ‚úÖ           | ‚ùå     |
| **MDX**      | ‚ùå       | ‚úÖ           | ‚úÖ     |
| **Markdown** | ‚úÖ       | ‚ùå           | ‚úÖ     |
| **Markdoc**  | ‚úÖ       | ‚úÖ           | ‚úÖ     |

### Portable

- **Markdown:** Is a very common format that is used all over the place in the software world. The `README.md` file on every Github and NPM page is written in markdown, colleagues use markdown to take notes, there are also purpose built note taking apps that use markdown as the writing format like [Boost Note](boostnote.io). This makes working with markdown familiar and simple, it isn't a fad that is going away and there is already a wide ecosystem built around this format.
- **WYSIWYG:** These editors are really user-friendly for non-developers, but are not very portable. If we look at the output of a common WYSIWYG editor we will see a very large JSON document of nodes. Not only is this very difficult to read, it is also very difficult to work with. In most cases the output node document is generated by the project we use to create it such as [SlateJs](https://github.com/ianstormtaylor/slate) or [Lexical](https://github.com/facebook/lexical). If we decided that we couldn't get every feature we needed from `slatejs` and wanted to switch to `lexical` it would be difficult to switch.
- **MDX:** MDX is markdown + JSX components, this is also a pretty readable format provided you don't over-use the JSX component side of things. There is one part of MDX that may make it non-portable, the document structure. With MDX if you wanted to have markdown inside of 50 nested divs there is nothing preventing you from doing this, however this makes the format harder to parse and read with available tools.
- **Markdoc:** Markdoc is a light layer ontop of markdown that is readable and limiting &mdash; on purpose. Markdoc provides a compromise between the infinite customizability of MDX, with the flexibility of custom components when needed in a template-langauge type of implementation. For a more comprehensive comparison of Markdoc to MDX, take a look at [Why not MDX?](https://markdoc.io/docs/faq#why-not-mdx) on the Markdoc website.

### Customizable

- **Markdown:** Plain markdown allows only customized styles upon the available tags you are given. This makes the format difficult to choose for a blog where we might want some interactive or custom components. For instance, having different alerts such as a warning/error/info/success could make your content much more readable.
- **WYSIWYG:** These editors _can_ be very customizable but as we will see in the next section, this comes with a lot of added complexity.
- **MDX:** MDX is the most customizable format by far. You have the full power of React to customize your content with MDX, however maybe this is too much customizability as noted in the section above on portability.
- **Markdoc:** Markdoc allows custom tags that can be react components. Markdoc is not as customizable as MDX, but it is much more portable and prevents us from the footgun of turning what should be simple content into complex application code.

### Simple

- **Markdown:** Markdown is the simplest of the formats, there are no extra features and there is a vast plugin ecosystem to be used with it.
- **WYSISYG:** By far the most complex of the formats. While all of the other formats would allow you to write the data in any standard text editor, you will almost certaintly be writing your content with a custom WYSIWYG editor. Lots of times with pre-built editors they may not be styled excatly how you want, or you will find a package like `slate` or `lexical` where you must build the editor yourself. These packages provide the framework to build and editor exactly to your spec, but come with lots of added complexity. For large apps without developers writing the content this is the best way to go, but with developers writing the content a readable data format is more preferred.
- **MDX:** This is the second most complex of the formats. If used sparingly this format could be just as good as Markdoc only with more flexibility, however the added customizability allows the footgun of having your data look more and more like typical application code.
- **Markdoc:** This is pretty simple, but powerful as well. Markdoc reads like MDX, with bits of template language sprinkled in. It is limited purposefully, to make sure you keep your data as data.

## How the Static Site will Work
